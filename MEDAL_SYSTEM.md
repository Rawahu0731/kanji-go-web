# メダル・スキルツリーシステム

## 概要
新通貨「メダル」とスキルツリー機能を導入しました。問題に正解するとメダルを獲得でき、そのメダルを使ってスキルツリーでキャラクターを強化できます。

## メダル獲得方法
- **入力形式**: 正解時に10%の確率でメダル1枚を獲得
- **四択形式**: 正解時に2.5%の確率でメダル1枚を獲得

## スキルツリー
メダルを消費してスキルをアップグレードすることで、以下の効果を得られます：

### 基礎スキル
- **XPブースト I**: XP獲得量 +10%/レベル（最大Lv.5）
- **コインブースト I**: コイン獲得量 +10%/レベル（最大Lv.5）
- **メダルドロップ率アップ I**: メダル獲得確率 +5%/レベル（最大Lv.3）

### 上位スキル（前提: 基礎スキルMAX）
- **XPブースト II**: XP獲得量 +15%/レベル（最大Lv.5）
- **コインブースト II**: コイン獲得量 +15%/レベル（最大Lv.5）
- **メダルドロップ率アップ II**: メダル獲得確率 +10%/レベル（最大Lv.3）

### 特殊スキル
- **ストリーク保護**: 不正解時でもストリークが途切れない（最大Lv.3、各レベルで+1回の保護）
- **ダブル報酬**: 低確率でXPとコインが2倍（+5%/レベル、最大Lv.5）

### 最上位スキル（前提: 上位スキルMAX）
- **XPブースト III**: XP獲得量 +20%/レベル（最大Lv.5）
- **コインブースト III**: コイン獲得量 +20%/レベル（最大Lv.5）

## 実装詳細

### 新規ファイル
- `src/data/skillTree.ts`: スキル定義
- `src/pages/SkillTree.tsx`: スキルツリーページコンポーネント
- `src/styles/SkillTree.css`: スキルツリーページのスタイル

### 変更されたファイル
- `src/contexts/GamificationContext.tsx`: メダル、スキルレベル、ストリーク保護の状態管理を追加
- `src/App.tsx`: 問題正解時のメダル獲得判定、スキルブーストの適用、ストリーク保護の使用
- `src/pages/Profile.tsx`: プロフィールページにメダル表示を追加
- `src/main.tsx`: スキルツリーページのルートを追加

## 使用方法

1. 問題モードで問題に正解し、メダルを獲得
2. ヘッダーの「🌳 スキルツリー」リンクをクリック
3. スキルカードをクリックして詳細を確認
4. メダルが足りている場合、「アップグレード」ボタンをクリック
5. スキルレベルが上がり、効果が即座に適用される

## 注意事項
- スキルの効果は即座に適用されます
- 前提スキルが最大レベルでない場合、上位スキルはアップグレードできません
- ストリーク保護は不正解時に自動で使用されます（残り回数がある場合）
- ダブル報酬は確率で発動します（発動時は視覚的フィードバックあり）
